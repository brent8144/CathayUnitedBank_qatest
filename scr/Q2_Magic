def 檢查咒語(咒語):
    配對 = {')': '(', ']': '[', '}': '{'}
    堆疊 = []

    for 字元 in 咒語:
        if 字元 in '([{':
            堆疊.append(字元)
        elif 字元 in ')]}':
            if not 堆疊 or 堆疊[-1] != 配對[字元]:
                print("施法失敗")
                return
            堆疊.pop()
        elif 字元 not in '([{':
            print("施法失敗")
            return

    if not 堆疊:
        print("施法成功")
    else:
        print("施法失敗")


# 加入手動輸入功能
咒語 = input("請輸入你的咒語（只允許括號符號）：")
檢查咒語(咒語)

# 20250721